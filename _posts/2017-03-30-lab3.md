---
layout:  post
title:   Lab 3
tagline: DFA minimization

buttonNames: ['Example 1', 'Example 2']
buttonLinks: ['#io', '#another-conversion']
---


# DFA minimization

For any given DFA $A$, we can build a DFA $A'$ that accepts the same language using the minimum number of states needed. Since $A$ has more states than $A'$, we need to figure out which states we have to remove.

The states getting removed are the ones which already have an equivalent state in diagram.



![dfa](../assets/dfa-original.svg)



## Equivalent states

Two states $q$ and $r$ are equivalent iff they both end in an accepting state or they both end in a non-accepting state, on any input word:

- $\hat{\delta}(q, w) \rightarrow^* f_1$ and $\hat{\delta}(r, w) \rightarrow^* f_2$ where $f_1, f_2 \in F$; OR:
- $\hat{\delta}(q, w) \rightarrow^* s_1$ and $\hat{\delta}(r, w) \rightarrow^* s_2$ where $s_1, s_2 \notin F$
- $\forall w \in \Sigma^*$

> *Note*: $\hat{\delta}$ is the extension of $\delta$ which works on words of length > 1.



## Indistinguishability table

We will mark all pairs of states which are *indistinguishable* — they can't be told apart. A dot · is placed where two states *may* be indistinguishable.

|       |  0   |  1   |  2   |  3   |  4   |  5   |  6   |
| ----- | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
| **0** |      |      |      |      |      |      |      |
| **1** |  ·   |      |      |      |      |      |      |
| **2** |  ·   |  ·   |      |      |      |      |      |
| **3** |  ·   |  ·   |  ·   |      |      |      |      |
| **4** |  ·   |  ·   |  ·   |  ·   |      |      |      |
| **5** |  ·   |  ·   |  ·   |  ·   |  ·   |      |      |

> *Note*: we compute only the lower-left of the table, as it is symmetrical ($q$ is as distinguishable from $r$ as $r$ is distinguishable from $q$) and the main diagonal will always be un-checked ($q$ is always indistinguishable from $q$, itself).



Start by marking ✓ all pairs $(q, r)$ where $q \in F$ and $s \notin F$. Any accepting state is obviously distinguishable from a non-accepting state.

|       |  0   |  1   |  2   |  3   |  4   |
| ----- | :--: | :--: | :--: | :--: | :--: |
| **1** |  ·   |      |      |      |      |
| **2** |  ✓   |  ✓   |      |      |      |
| **3** |  ✓   |  ✓   |  ·   |      |      |
| **4** |  ✓   |  ✓   |  ·   |  ·   |      |
| **5** |  ·   |  ·   |  ✓   |  ✓   |  ✓   |



Mark ✓ any an unmarked · pair $(q, r)$, for which $(\delta(p, x), \ \delta(r, x))$ is marked. Where $x$ is any symbol (`a` or `b` in our case). Repeat until no further change occurs in the table.

|       |  0   |  1   |  2   |  3   |  4   |
| ----- | :--: | :--: | :--: | :--: | :--: |
| **1** |  ·   |      |      |      |      |
| **2** |  ✓   |  ✓   |      |      |      |
| **3** |  ✓   |  ✓   |  ·   |      |      |
| **4** |  ✓   |  ✓   |  ·   |  ·   |      |
| **5** |  ✓   |  ✓   |  ✓   |  ✓   |  ✓   |

For pair $(0, 1)$:

- symbol `a`: $\delta(0, a)=1$; $\delta(1, a)=0$ — we can't distinguish 0 from 1
- symbol `b`:  $\delta(0, b)=2$; $\delta(1, b)=3$ — we can't distinguish 2 from 3

For pair $(2, 3)$:

- symbol `a`: $\delta(2, a)=4$; $\delta(3, a)=4$ — we can't distinguish 4 from 4
- symbol `b`: $\delta(2, b)=5$; $\delta(3, b)=5$ — we can't distinguish 5 from 5

For pair $(0, 5)$:

- symbol `a`: $\delta(0, a)=1$; $\delta(5, a)=5$ — we can distinguish 1 from 5 ✓
- symbol `b`: $\delta(0, b)=2$; $\delta(5, b)=5$ — we can distinguish 2 from 5 ✓

Pair $(1, 5)$ can be distinguished because $\delta(1, a)=0$; $\delta(5, a)=5$ and we can distinguish 0 from 5  ✓



## Combining states




## More examples

Narrated minimizations:

- [basic](https://youtu.be/Dx2RJ2DXRYs)
- [more complex](https://www.youtube.com/watch?v=UiXkJUTkp44)
- [different explanation](https://youtu.be/0XaGAkY09Wc)
